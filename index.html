<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floppa Clicker - liqxz</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #3c2a21;
            color: #e6d2b5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }

        .tip-banner {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 10px 20px;
            border-radius: 25px;
            margin-bottom: 20px;
            text-align: center;
            width: 90%;
            max-width: 800px;
            color: #ffa500;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .tip-text {
            position: absolute;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .tip-text.active {
            opacity: 1;
        }

        .tip-banner i {
            margin-right: 10px;
        }

        .game-title {
            font-size: 2.5rem;
            color: #e6c797;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 20px;
            animation: titleGlow 3s infinite alternate;
        }

        @keyframes titleGlow {
            from {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            to {
                text-shadow: 0 0 10px #ffa500, 0 0 20px #ffa500;
            }
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .control-btn {
            background-color: #af8e7b;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            transition: transform 0.2s ease, background-color 0.3s ease;
        }

        .control-btn:hover {
            transform: scale(1.05);
            background-color: #c9a28b;
        }

        .game-container {
            background-color: #d5c4b3;
            color: #6b4f39;
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: box-shadow 0.3s ease;
        }

        .game-container:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .stats {
            text-align: center;
            margin-bottom: 20px;
        }

        .points {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
            transition: color 0.3s ease;
        }

        .points-increase {
            animation: pointsPulse 0.5s ease-out;
        }

        @keyframes pointsPulse {
            0% {
                color: #6b4f39;
                transform: scale(1);
            }
            50% {
                color: #ffa500;
                transform: scale(1.1);
            }
            100% {
                color: #6b4f39;
                transform: scale(1);
            }
        }

        .click-stats {
            font-size: 0.7rem;
            color: #8b7363;
        }

        .game-content {
            display: flex;
            gap: 20px;
        }

        .floppa-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .floppa-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            cursor: pointer;
            border: 10px solid #f0e0c6;
            object-fit: cover;
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
            animation: pulse 4s infinite ease-in-out;
            will-change: transform;
        }

        .floppa-costume {
            position: absolute;
            width: 230px;
            height: 230px;
            pointer-events: none;
            z-index: 10;
        }

        .costume-btn {
            background-color: #af8e7b;
            border: none;
            padding: 6px 10px;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            margin-top: 10px;
            transition: transform 0.2s ease, background-color 0.3s ease;
        }

        .costume-btn:hover {
            transform: scale(1.05);
            background-color: #c9a28b;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                filter: blur(0px) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
            }
            50% {
                transform: scale(0.95);
                filter: blur(0.5px) drop-shadow(0 0 10px rgba(0, 0, 0, 0.4));
            }
            100% {
                transform: scale(1);
                filter: blur(0px) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
            }
        }

        .floppa-click-effect {
            animation: clickEffect 0.5s ease-out;
            will-change: transform, filter;
        }

        @keyframes clickEffect {
            0% {
                transform: scale(0.9);
                filter: blur(1px) brightness(0.9) drop-shadow(0 0 8px rgba(255, 165, 0, 0.7));
            }
            40% {
                transform: scale(1.08);
                filter: blur(2px) brightness(1.1) drop-shadow(0 0 12px rgba(255, 165, 0, 0.8));
            }
            100% {
                animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
                transform: scale(1);
                filter: blur(0px) brightness(1) drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
            }
        }

        .click-ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 165, 0, 0.3);
            width: 220px;
            height: 220px;
            pointer-events: none;
            opacity: 0;
            transform: scale(0);
        }

        .ripple-active {
            animation: rippleEffect 0.8s ease-out;
        }

        @keyframes rippleEffect {
            0% {
                transform: scale(0);
                opacity: 0.7;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .point-float {
            position: absolute;
            color: #ffa500;
            font-size: 1.2rem;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            opacity: 0;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(0.5);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(1.2);
                opacity: 0;
            }
        }

        .upgrades {
            flex: 1;
        }

        .upgrades-title {
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.2rem;
        }

        .upgrade-tabs {
            display: flex;
            margin-bottom: 15px;
            gap: 5px;
        }

        .upgrade-tab {
            background-color: #c9a28b;
            padding: 8px 12px;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            font-size: 0.7rem;
            transition: background-color 0.3s ease;
        }

        .upgrade-tab.active {
            background-color: #e6c797;
            color: #3c2a21;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .upgrade-item {
            background-color: #e6c797;
            margin-bottom: 10px;
            padding: 10px 15px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            cursor: pointer;
            transition: transform 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            font-size: 0.7rem;
            position: relative;
            overflow: hidden;
        }

        .upgrade-item:hover {
            background-color: #f0d6aa;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .upgrade-item:active {
            transform: translateY(0px);
        }

        .upgrade-item.disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .upgrade-info {
            flex: 1;
            z-index: 2;
        }

        .upgrade-name {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .upgrade-desc {
            font-size: 0.6rem;
            color: #8b7363;
        }

        .upgrade-owned {
            font-size: 0.6rem;
            color: #8b7363;
        }

        .upgrade-cost {
            align-self: center;
            color: #4caf50;
            font-weight: bold;
            font-size: 0.7rem;
            z-index: 2;
        }

        .upgrade-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .upgrade-item:hover::after {
            left: 100%;
        }

        .upgrade-purchased {
            animation: purchaseFlash 0.8s ease-out;
        }

        @keyframes purchaseFlash {
            0%, 100% {
                background-color: #e6c797;
            }
            50% {
                background-color: #4caf50;
            }
        }

        .special-upgrade-item {
            background: linear-gradient(135deg, #e6c797, #f0d6aa);
            border: 2px solid #ffa500;
            box-shadow: 0 0 10px rgba(255, 165, 0, 0.3);
        }

        .special-upgrade-item .upgrade-name {
            color: #8b5d2e;
        }

        .special-upgrade-item .upgrade-cost {
            color: #d67d00;
        }

        .achievements {
            width: 90%;
            max-width: 800px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .achievements-title {
            color: #ffa500;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .achievement {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            font-size: 0.7rem;
            transition: transform 0.2s ease, background-color 0.3s ease;
        }

        .achievement.locked {
            filter: grayscale(100%);
            opacity: 0.6;
        }

        .achievement.unlocked {
            background-color: rgba(255, 165, 0, 0.2);
            animation: achievementUnlock 1s ease-out;
        }

        @keyframes achievementUnlock {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 rgba(255, 165, 0, 0);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 0 20px rgba(255, 165, 0, 0.5);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 10px rgba(255, 165, 0, 0.3);
            }
        }

        .achievement-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .achievement-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievement-desc {
            font-size: 0.6rem;
            color: #e6d2b5;
        }

        .leaderboard {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            width: 90%;
            max-width: 800px;
            margin-top: 20px;
            font-size: 0.7rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: box-shadow 0.3s ease;
        }

        .leaderboard:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .leaderboard-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #ffa500;
        }

        .player-info {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .edit-btn {
            background-color: #f0a500;
            color: #3c2a21;
            border: none;
            padding: 3px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.6rem;
            font-family: 'Press Start 2P', cursive;
            transition: transform 0.2s ease, background-color 0.3s ease;
        }

        .edit-btn:hover {
            transform: scale(1.05);
            background-color: #ffb52e;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 8px;
            text-align: left;
            font-size: 0.7rem;
        }

        th {
            color: #ffa500;
        }

        tr.player-row {
            background-color: rgba(240, 165, 0, 0.2);
            transition: background-color 0.3s ease;
        }

        tr.player-row:hover {
            background-color: rgba(240, 165, 0, 0.3);
        }

        .music-player {
            margin-top: 20px;
            width: 90%;
            max-width: 800px;
        }

        .music-player iframe {
            width: 100%;
            height: 80px;
            border: none;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #af8e7b;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: #ffa500;
            width: 0%;
            transition: width 0.3s ease;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(60, 42, 33, 0.9);
            color: #ffa500;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.8rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 100;
        }

        .notification.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            .game-content {
                flex-direction: column;
            }
            
            .upgrade-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="tip-banner">
        <div class="tip-text active"><i>💡</i> The more upgrades you buy, the more expensive they get</div>
        <div class="tip-text"><i>💡</i> Click Floppa to earn points</div>
        <div class="tip-text"><i>💡</i> Floppa naps are the most powerful upgrade</div>
        <div class="tip-text"><i>💡</i> Auto-clickers work even when you're away</div>
        <div class="tip-text"><i>💡</i> Save up for big upgrades</div>
        <div class="tip-text"><i>💡</i> Special upgrades appear randomly - grab them quickly!</div>
        <div class="tip-text"><i>💡</i> Unlock achievements for bonus points</div>
        <div class="tip-text"><i>💡</i> Check the Special tab for limited-time offers</div>
    </div>

    <h1 class="game-title">Floppa Clicker</h1>

    <div class="controls">
        <button id="sound-btn" class="control-btn">liqxz</button>
        <button id="reset-btn" class="control-btn">Reset Game</button>
        <button id="save-btn" class="control-btn">Save Game</button>
        <button id="load-btn" class="control-btn">Load Game</button>
    </div>

    <div class="game-container">
        <div class="stats">
            <div id="points" class="points">477 Floppa Points</div>
            <div class="click-stats">Click Power: <span id="click-power">1</span> | Auto-Clicks: <span id="auto-clicks">0</span>/second</div>
            <div class="click-stats">Level: <span id="player-level">1</span> | XP: <span id="player-xp">0</span>/<span id="level-cap">100</span></div>
            <div class="progress-bar">
                <div id="xp-progress" class="progress" style="width: 0%"></div>
            </div>
        </div>

        <div class="game-content">
            <div class="floppa-container">
                <div class="click-ripple" id="click-ripple"></div>
                <img id="floppa" class="floppa-image" src="/api/placeholder/200/200" alt="Floppa">
                <img id="floppa-costume" class="floppa-costume" style="display: none;" src="/api/placeholder/230/230" alt="Floppa Costume">
                <button id="costume-btn" class="costume-btn">Toggle Bowtie</button>
            </div>

            <div class="upgrades">
                <h2 class="upgrades-title">Upgrades</h2>
                
                <div class="upgrade-tabs">
                    <div class="upgrade-tab active" data-tab="basic">Basic</div>
                    <div class="upgrade-tab" data-tab="advanced">Advanced</div>
                    <div class="upgrade-tab" data-tab="special">Special</div>
                </div>
                
                <div id="basic-tab" class="tab-content active">
                    <div class="upgrade-item" id="treats">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Treats</div>
                            <div class="upgrade-desc">Each treat gives +1 click power</div>
                            <div class="upgrade-owned">Owned: <span id="treats-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="treats-cost">10 points</div>
                    </div>

                    <div class="upgrade-item" id="friends">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Friend</div>
                            <div class="upgrade-desc">Each friend clicks once per second</div>
                            <div class="upgrade-owned">Owned: <span id="friends-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="friends-cost">50 points</div>
                    </div>

                    <div class="upgrade-item" id="naps">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Nap</div>
                            <div class="upgrade-desc">Each nap increases click power by 5</div>
                            <div class="upgrade-owned">Owned: <span id="naps-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="naps-cost">200 points</div>
                    </div>
                </div>
                
                <div id="advanced-tab" class="tab-content">
                    <div class="upgrade-item" id="toys">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Toys</div>
                            <div class="upgrade-desc">Each toy increases auto-clicks by 5</div>
                            <div class="upgrade-owned">Owned: <span id="toys-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="toys-cost">500 points</div>
                    </div>

                    <div class="upgrade-item" id="beds">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Luxury Bed</div>
                            <div class="upgrade-desc">Each bed doubles your click power</div>
                            <div class="upgrade-owned">Owned: <span id="beds-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="beds-cost">1000 points</div>
                    </div>

                    <div class="upgrade-item" id="mansion">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Mansion</div>
                            <div class="upgrade-desc">Increases all production by 50%</div>
                            <div class="upgrade-owned">Owned: <span id="mansion-owned">0</span></div>
                        </div>
                        <div class="upgrade-cost" id="mansion-cost">5000 points</div>
                    </div>
                </div>
                
                <div id="special-tab" class="tab-content">
                    <div class="upgrade-item special-upgrade-item" id="golden">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Golden Floppa</div>
                            <div class="upgrade-desc">Triple your click power for 60 seconds</div>
                            <div class="upgrade-owned">Cooldown: <span id="golden-cooldown">Ready</span></div>
                        </div>
                        <div class="upgrade-cost" id="golden-cost">1500 points</div>
                    </div>

                    <div class="upgrade-item special-upgrade-item" id="party">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Floppa Party</div>
                            <div class="upgrade-desc">Double auto-clicks for 120 seconds</div>
                            <div class="upgrade-owned">Cooldown: <span id="party-cooldown">Ready</span></div>
                        </div>
                        <div class="upgrade-cost" id="party-cost">2000 points</div>
                    </div>

                    <div class="upgrade-item special-upgrade-item" id="mythic">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Mythic Floppa</div>
                            <div class="upgrade-desc">Permanent 20% bonus to all production</div>
                            <div class="upgrade-owned">Owned: <span id="mythic-owned">0</span>/3</div>
                        </div>
                        <div class="upgrade-cost" id="mythic-cost">10000 points</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="achievements">
        <h2 class="achievements-title">Achievements</h2>
        <div class="achievement-grid">
            <div class="achievement locked" id="ach-clicks">
                <div class="achievement-icon">🖱️</div>
                <div class="achievement-name">Click Master</div>
                <div class="achievement-desc">Click Floppa 100 times</div>
            </div>
            <div class="achievement locked" id="ach-points">
                <div class="achievement-icon">💰</div>
                <div class="achievement-name">Point Hoarder</div>
                <div class="achievement-desc">Reach 1,000 Floppa Points</div>
            </div>
            <div class="achievement locked" id="ach-treats">
                <div class="achievement-icon">🍖</div>
                <div class="achievement-name">Treat Supplier</div>
                <div class="achievement-desc">Buy 10 Floppa Treats</div>
            </div>
            <div class="achievement locked" id="ach-friends">
                <div class="achievement-icon">👥</div>
                <div class="achievement-name">Friendly Floppa</div>
                <div class="achievement-desc">Buy 5 Floppa Friends</div>
            </div>
        </div>
    </div>

    <div class="leaderboard">
        <div class="leaderboard-header">
            <div>Global Floppa Leaderboard</div>
            <div class="player-info">
                Playing as: <span id="player-name">tiqxz</span>
                <button class="edit-btn">Edit</button>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Score</th>
                    <th>Click Power</th>
                    <th>Auto Clicks</th>
                    <th>Level</th>
                </tr>
            </thead>
            <tbody>
                <tr class="player-row">
                    <td>1</td>
                    <td id="table-name">tiqxz (You)</td>
                    <td id="table-score">477</td>
                    <td id="table-click-power">1</td>
                    <td id="table-auto-clicks">0/s</td>
                    <td id="table-level">1</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>FloppaMaster</td>
                    <td>325</td>
                    <td>5</td>
                    <td>2/s</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>CaramelFriend</td>
                    <td>218</td>
                    <td>3</td>
                    <td>1/s</td>
                    <td>2</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="music-player">
        <iframe 
            src="https://www.youtube.com/embed/6me17gGZYRg?list=RDQMxFTo1zA2aFw&index=3&autoplay=1&controls=1&loop=1" 
            title="LoFi Playlist" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
        </iframe>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // Game state
        let gameState = {
            points: 477,
            clickPower: 1,
            autoClicks: 0,
            level: 1,
            xp: 0,
            xpNeeded: 100,
            totalClicks: 0,
            upgrades: {
                treats: { owned: 0, cost: 10, powerIncrease: 1 },
                friends: {
